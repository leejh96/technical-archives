2021-11-06
작성자 leejy001

## 1. 네트워크 기본
네트워크는 컴퓨터와 컴퓨터간의 연결을 의미

## 2. 클라이언트와 서버
**네트워크에서 정보를 요구해서 받는 쪽은 `클라이언트(Client)`라고 한다.** 
**정보를 제공해 주는 쪽은 `서버(Server)`라고 한다.**

실제로 우리가 사용하는 웹, 앱 서비스는 다양한 서버들과 통신하고 있다. 

- 브라우저에서 웹에 접속한다는 것은 `웹 서버`에서 웹(HTML,CSS,JS)를 다운
- 웹에서 보는 이미지들은 전부 `파일 서버`에서 이미지를 다운받은 결과물
- 웹에서 로그인을 할 때는 로그인을 돕는 `인증 서버`와 통신
- 앱에서 상품 정보들을 불러올 때는 상품 정보를 제공하는 `API 서버`와 통신

## HTTP 통신이란?

컴퓨터끼리 네트워크 통신을 할 때 여러가지 방식으로 통신이 가능하다. 
이런 통신 방식들을 묶어서 `통신 프로토콜`이라고 이야기한다. 

메일을 주고 받을 때 사용하는 SMTP 프로토콜, 파일을 전송할 때 사용하는 FTP 프로토콜 등이 있다. 
**우리가 사용할 HTTP 프로토콜은 원래 브라우저가 웹 서버와 통신을 하기 위해 생긴 프로토콜이다.** 
지금은 대부분의 네트워크 통신에서 사용되는 대중적인 프토로콜이다.

이때 **HTTP 프로토콜을 활용한 통신이 바로 HTTP 통신이 된다.**
HTTP 통신은 기본적으로 `요청(request)`과 `응답(response)`으로 나눠서 이해할 수 있다.

- `요청 라인`에 URL, Method 같은 핵심 요청 정보가 들어간다. 요청과 응답에 따라 구성 요소가 다르다.
- `Header`에 HTTP 관련 여러 설정 값이 들어간다.
- `Body`에는 통신에 필요한 데이터가 들어간다(옵션)

## HTTP 요청

HTTP 통신으로 서버에게 정보를 요청하기 위해선 몇 가지 규칙을 지켜야 한다.
1. **어떤 서버에게 요청할 것인지 `URL`이 있어야 한다. (요청 라인)**
2. **어떤 방식으로 통신을 할 것인지 `Method` 가 있어야 한다. (요청 라인)**

`GET` 

**일반적으로 정보를 받아올 때 사용하는 Method 이다.** 
HTTP 요청을 할 때 method를 설정하지 않으면 기본 메소드로 GET이 들어간다.
일반적으로 웹 서버에서 웹을 다운 받을 때 GET을 사용한다. 

[사용 예시]
- 웹 서버에서 웹을 다운 받을 때
- 내 상품 정보들을 받아올 때

`POST` 
**새로운 자원을 생성할 때 POST를 많이 사용한다.**

[사용 예시]
- 로그인을 할 때 아이디, 패스워드를 담아야 함
- 아티클을 만들 때 입력한 아티클 정보를 담아야 함

쉽게 생각하면 GET은 정보를 읽는 `READ`, POST는 정보를 작성하는 `WRITE` 로 볼 수 있다.

### HTTP 요청에 정보 담기

클라이언트가 HTTP 요청을 할 때 정보를 담아야 하는 경우가 많다. 
- 회원 가입을 할 때 회원 정보를 서버에게 보내줘야 한다.
- 상품을 만들 때 상품 정보를 서버에게 보내줘야 한다.
- 로그인을 할 때 아이디 패스워드를 담아야 한다.

GET 방식은 서버에 데이터를 전송해야 할 때 url 맨 뒤에 `query` 라는 것을 붙인다. 
query는 `key=value` 형태로 구성되어 있다.
POST도 마찬가지로 URL 뒤에 query를 붙일 수 있다.

POST 메소드의 경우 HTTP의 `Body` 부분에 데이터를 담을 수 있다. 
Body는 HTTP 통신에 구조적으로 데이터를 담아서 전송할 수 있게 도와준다. 

대표적으로 로그인, 상품 업로드, 결제하기 등 우리의 정보를 담아서 보내야하는 경우 많이 사용된다. 
GET은 Body에 데이터를 담을 수 없다.

## HTTP 응답

서버에서는 HTTP 요청을 받으면 열심히 일을 해서 응답을 해준다. 
이때 HTTP 응답의 규칙으로
1. 응답이 어떤 상태인지를 나타내는 `Status Code` 가 있어야 한다 (요청 라인)
2. 요청 결과를 `Body`에 담아야 한다.

이때 Status Code 는 200~ 500 번까지 있으며 서버의 응답에 대한 상태를 표현한다.
 요청 코드는 크게 나눠보면 아래와 같다.
 
**`200` 번대는 정상적으로 응답을 했을 때**
200 : GET 요청에 대한 성공
204 : No Content. 성공했으나 응답 본문에 데이터가 없음
205 : Reset Content. 성공했으나 클라이언트의 화면을 새로 고침하도록 권고
206 : Partial Conent. 성공했으나 일부 범위의 데이터만 반환

**`300` 번대는 리다이렉션**
301 : Moved Permanently, 요청한 자원이 새 URL에 존재
303 : See Other, 요청한 자원이 임시 주소에 존재
304 : Not Modified, 요청한 자원이 변경되지 않았으므로 클라이언트에서 캐싱된 자원을 사용하도록 권고. ETag와 같은 정보를 활용하여 변경 여부를 확인
 
**`400` 번대는 클라이언트가 요청을 잘못했을 때**
400 : Bad Request, 잘못된 요청
401 : Unauthorized, 권한 없이 요청. Authorization 헤더가 잘못된 경우
403 : Forbidden, 서버에서 해당 자원에 대해 접근 금지
405 : Method Not Allowed, 허용되지 않은 요청 메서드
409 : Conflict, 최신 자원이 아닌데 업데이트하는 경우. ex) 파일 업로드 시 버전 충돌

**`500` 번대는 서버에서 에러가 발생했을 때**
501 : Not Implemented, 요청한 동작에 대해 서버가 수행할 수 없는 경우
503 : Service Unavailable, 서버가 과부하 또는 유지 보수로 내려간 경우
